<!DOCTYPE html>

<html class="dark" lang="zh-Hant">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>使用者登入 - 吉他匯率通</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <!-- Tailwind Config -->
  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#53d22d",
            "background-light": "#f6f8f6",
            "background-dark": "#152012",
          },
          fontFamily: {
            "display": ["Manrope", "Noto Sans TC", "sans-serif"]
          },
          borderRadius: { "DEFAULT": "1rem", "lg": "2rem", "xl": "3rem", "full": "9999px" },
          backgroundImage: {
            'guitar-pattern': "url('https://images.unsplash.com/photo-1550985616-1081025f283d?q=80&w=2070&auto=format&fit=crop')",
          }
        },
      },
    }
  </script>
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
  <link
    href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700&amp;family=Noto+Sans+TC:wght@400;500;700&amp;display=swap"
    rel="stylesheet" />
  <!-- Material Symbols -->
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
    rel="stylesheet" />
  <link
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
    rel="stylesheet" />
  <style>
    body {
      font-family: 'Manrope', 'Noto Sans TC', sans-serif;
    }

    .material-symbols-outlined {
      font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }

    /* Custom scrollbar hiding for cleaner mobile look */
    .no-scrollbar::-webkit-scrollbar {
      display: none;
    }

    .no-scrollbar {
      -ms-overflow-style: none;
      scrollbar-width: none;
    }
  </style>
  <style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
</head>

<body
  class="bg-background-light dark:bg-background-dark min-h-screen text-slate-900 dark:text-white selection:bg-primary selection:text-white">
  <div class="relative flex min-h-screen w-full flex-col overflow-hidden items-center justify-center p-6">
    <!-- Background Image with Overlay -->
    <div class="absolute inset-0 z-0">
      <div class="absolute inset-0 bg-background-dark/85 z-10"></div>
      <div class="w-full h-full bg-cover bg-center opacity-30 blur-sm scale-110"
        data-alt="Abstract close-up of dark acoustic guitar wood texture and strings"
        style="background-image: url('https://lh3.googleusercontent.com/aida-public/AB6AXuACxBzWheSw3M_BzJ0EoIX_bQFgV_OyyRndCHCGZ4XFgLk7EpbAuzmInaonBkkZB2DpT4DjGmRgRKxqExuITXwBEFSJasoAk9x5z_nb4hCH8tkoc9-dVhXY_Jc0An58zfDYDUhGY1u25Ev6uS99rjuqsM_XlkQrcxTKmo3yvY7ABWI4hEaOGwySmDwrcXRtTL6mkM3c0cAEPS32qsukX-DPjyPQ7g_xVk9s9pSABrSVRPkHoImQIz3S3yoTLpkeVaEeJCSnRot0mJUN');">
      </div>
    </div>
    <!-- Content Container -->
    <div class="relative z-20 w-full max-w-[400px] flex flex-col gap-6 animate-fade-in">
      <!-- Header Section -->
      <div class="flex flex-col items-center gap-2 mb-4">
        <div
          class="w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mb-2 backdrop-blur-sm border border-primary/30">
          <span class="material-symbols-outlined text-primary text-[32px]">music_note</span>
        </div>
        <h2 class="text-white tracking-tight text-3xl font-bold leading-tight text-center">歡迎回來</h2>
        <p class="text-gray-400 text-base font-normal leading-normal text-center">登入以管理您的吉他庫存與匯率</p>
      </div>
      <!-- Form Section -->
      <form class="flex flex-col gap-4" onsubmit="event.preventDefault();">
        <!-- Email/User Input -->
        <div class="flex flex-col gap-2">
          <label class="text-gray-200 text-sm font-medium ml-2">電子郵件 / 使用者名稱</label>
          <div
            class="group flex w-full items-center rounded-xl bg-[#2d372a]/80 border border-transparent focus-within:border-primary/50 transition-all duration-300">
            <div class="pl-4 text-[#a5b6a0] flex items-center justify-center">
              <span class="material-symbols-outlined">person</span>
            </div>
            <input
              class="flex w-full bg-transparent border-none text-white placeholder:text-[#a5b6a0]/70 h-14 px-3 focus:ring-0 text-base"
              placeholder="輸入帳號" type="text" />
          </div>
        </div>
        <!-- Password Input -->
        <div class="flex flex-col gap-2">
          <label class="text-gray-200 text-sm font-medium ml-2">密碼</label>
          <div
            class="group flex w-full items-center rounded-xl bg-[#2d372a]/80 border border-transparent focus-within:border-primary/50 transition-all duration-300">
            <div class="pl-4 text-[#a5b6a0] flex items-center justify-center">
              <span class="material-symbols-outlined">lock</span>
            </div>
            <input
              class="flex w-full bg-transparent border-none text-white placeholder:text-[#a5b6a0]/70 h-14 px-3 focus:ring-0 text-base"
              placeholder="輸入密碼" type="password" />
            <button
              class="pr-4 text-[#a5b6a0] hover:text-white transition-colors flex items-center justify-center cursor-pointer"
              type="button">
              <span class="material-symbols-outlined">visibility_off</span>
            </button>
          </div>
        </div>
        <!-- Forgot Password Link -->
        <div class="flex justify-end px-1">
          <a class="text-sm font-medium text-[#a5b6a0] hover:text-primary transition-colors" href="#">忘記密碼？</a>
        </div>
        <!-- Login Button -->
        <button
          class="w-full h-14 bg-primary hover:bg-green-500 text-background-dark text-lg font-bold rounded-xl shadow-lg shadow-primary/20 transition-all active:scale-[0.98] mt-2">
          登入
        </button>
      </form>
      <!-- Divider -->
      <div class="relative flex py-2 items-center">
        <div class="flex-grow border-t border-gray-700"></div>
        <span class="flex-shrink-0 mx-4 text-gray-500 text-sm">或</span>
        <div class="flex-grow border-t border-gray-700"></div>
      </div>
      <!-- Google Login Button -->
      <button onclick="handleGoogleLogin()"
        class="w-full h-14 bg-white dark:bg-[#2d372a] text-slate-900 dark:text-white font-semibold rounded-xl border border-gray-200 dark:border-transparent hover:bg-gray-50 dark:hover:bg-[#364232] transition-all flex items-center justify-center gap-3 active:scale-[0.98]">
        <svg class="w-6 h-6" viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
          <path
            d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"
            fill="#4285F4"></path>
          <path
            d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"
            fill="#34A853"></path>
          <path
            d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"
            fill="#FBBC05"></path>
          <path
            d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"
            fill="#EA4335"></path>
        </svg>
        使用 Google 登入
      </button>
      <!-- Sign Up Footer -->
      <div class="flex items-center justify-center gap-1 mt-4">
        <span class="text-gray-400 text-sm">還沒有帳號？</span>
        <a class="text-primary hover:text-green-400 font-bold text-sm" href="#">立即註冊</a>
      </div>
    </div>
  </div>
  <!-- Decorative Bottom spacing for mobile keyboard -->
  <div class="h-10"></div>
  </div>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
    import { getAuth, signInWithPopup, GoogleAuthProvider } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyBGDUjeYPCwESykwTWStz7GLMe1ujzEr08",
      authDomain: "test-5e965.firebaseapp.com",
      projectId: "test-5e965",
      storageBucket: "test-5e965.firebasestorage.app",
      messagingSenderId: "42477514336",
      appId: "1:42477514336:web:e6495a7c4081d780c89d05",
      measurementId: "G-G9ZEBGGZQM"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    // 把登入功能掛載到 window，這樣 HTML 的 onclick 才呼叫得到
    window.handleGoogleLogin = async () => {
      try {
        const result = await signInWithPopup(auth, provider);
        // const user = result.user;
        console.log("Login success");
        // 登入成功，跳轉到首頁 (匯率追蹤器 dashboard)
        window.location.href = '../匯率追蹤器/dashboard.html';
      } catch (error) {
        console.error(error);
        alert("登入失敗: " + error.message);
      }
    }
  </script>
</body>

</html>

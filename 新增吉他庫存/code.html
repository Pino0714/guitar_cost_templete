<!DOCTYPE html>
<html class="dark" lang="zh-Hant">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover"
        name="viewport" />
    <title>新增吉他庫存</title>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200..800&amp;display=swap" rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#53d22d",
                        "background-light": "#f6f8f6",
                        "background-dark": "#152012",
                        "surface-dark": "#1f251d",
                        "surface-border": "#2d372a",
                        "text-secondary": "#a5b6a0",
                    },
                    fontFamily: {
                        "display": ["Manrope", "Noto Sans", "sans-serif"]
                    },
                    borderRadius: { "DEFAULT": "1rem", "lg": "2rem", "xl": "3rem", "full": "9999px" },
                },
            },
        }
    </script>
    <style>
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #152012;
        }

        ::-webkit-scrollbar-thumb {
            background: #2d372a;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #53d22d;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        body {
            min-height: max(884px, 100dvh);
            -webkit-tap-highlight-color: transparent;
        }

        .glass-effect {
            background: rgba(31, 37, 29, 0.7);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .ios-tab-bar {
            padding-bottom: calc(12px + env(safe-area-inset-bottom));
        }
    </style>
</head>

<body
    class="font-display bg-background-light dark:bg-background-dark text-slate-900 dark:text-white antialiased selection:bg-primary selection:text-black">
    <div
        class="relative flex h-full min-h-screen w-full flex-col overflow-x-hidden max-w-md mx-auto shadow-2xl bg-background-light dark:bg-background-dark pb-24">
        <div
            class="sticky top-0 z-50 flex items-center bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm p-4 pb-2 justify-between border-b border-gray-200 dark:border-surface-border">
            <div
                class="text-slate-900 dark:text-white flex size-12 shrink-0 items-center justify-start cursor-pointer transition-opacity hover:opacity-70">
                <span class="material-symbols-outlined text-2xl">close</span>
            </div>
            <h2
                class="text-slate-900 dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center pr-12">
                新增吉他庫存</h2>
        </div>
        <div class="flex flex-col items-center justify-center pt-6 pb-2 px-4">
            <div class="relative group cursor-pointer">
                <div
                    class="overflow-hidden w-28 h-28 rounded-full border-4 border-dashed border-primary/30 group-hover:border-primary transition-colors flex items-center justify-center bg-surface-dark relative">
                    <span
                        class="material-symbols-outlined text-4xl text-primary/50 group-hover:text-primary transition-colors">add_a_photo</span>
                </div>
                <div
                    class="absolute bottom-0 right-0 bg-primary rounded-full p-1.5 shadow-lg border-2 border-background-dark flex items-center justify-center">
                    <span class="material-symbols-outlined text-black text-sm font-bold">edit</span>
                </div>
            </div>
            <p
                class="text-primary text-sm font-medium leading-normal pb-3 pt-3 text-center cursor-pointer hover:underline">
                上傳照片</p>
        </div>
        <div class="px-4 pt-4">
            <h3
                class="text-slate-900 dark:text-white tracking-light text-xl font-bold leading-tight text-left pb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">info</span>
                基本資訊
            </h3>
            <div class="flex flex-col gap-4">
                <div class="flex gap-4">
                    <label class="flex flex-col min-w-40 flex-1 group">
                        <p
                            class="text-slate-700 dark:text-white text-sm font-medium leading-normal pb-2 ml-1 group-focus-within:text-primary transition-colors">
                            品牌 <span class="text-red-500">*</span></p>
                        <input id="input-brand"
                            class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-full text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-surface-border bg-white dark:bg-surface-dark focus:border-primary h-12 placeholder:text-gray-400 dark:placeholder:text-text-secondary px-5 text-base font-normal leading-normal transition-all shadow-sm"
                            placeholder="例如: Fender" />
                    </label>
                </div>
                <div class="flex gap-4">
                    <label class="flex flex-col min-w-40 flex-1 group">
                        <p
                            class="text-slate-700 dark:text-white text-sm font-medium leading-normal pb-2 ml-1 group-focus-within:text-primary transition-colors">
                            型號 <span class="text-red-500">*</span></p>
                        <input id="input-model"
                            class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-full text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-surface-border bg-white dark:bg-surface-dark focus:border-primary h-12 placeholder:text-gray-400 dark:placeholder:text-text-secondary px-5 text-base font-normal leading-normal transition-all shadow-sm"
                            placeholder="例如: Stratocaster" />
                    </label>
                </div>
                <div class="flex gap-4">
                    <label class="flex flex-col w-1/3 group">
                        <p
                            class="text-slate-700 dark:text-white text-sm font-medium leading-normal pb-2 ml-1 group-focus-within:text-primary transition-colors">
                            年份</p>
                        <input id="input-year"
                            class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-full text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-surface-border bg-white dark:bg-surface-dark focus:border-primary h-12 placeholder:text-gray-400 dark:placeholder:text-text-secondary px-5 text-base font-normal leading-normal transition-all shadow-sm"
                            placeholder="2024" type="number" />
                    </label>
                    <label class="flex flex-col flex-1 group">
                        <p
                            class="text-slate-700 dark:text-white text-sm font-medium leading-normal pb-2 ml-1 group-focus-within:text-primary transition-colors">
                            產地</p>
                        <div class="relative">
                            <span
                                class="material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-text-secondary">public</span>
                            <input id="input-origin"
                                class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-full text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-surface-border bg-white dark:bg-surface-dark focus:border-primary h-12 placeholder:text-gray-400 dark:placeholder:text-text-secondary pl-12 pr-5 text-base font-normal leading-normal transition-all shadow-sm"
                                placeholder="例如: USA" />
                        </div>
                    </label>
                </div>
            </div>
        </div>
        <div class="h-px bg-gray-200 dark:bg-surface-border mx-4 my-6"></div>
        <div class="px-4">
            <h3
                class="text-slate-900 dark:text-white tracking-light text-xl font-bold leading-tight text-left pb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">qr_code_2</span>
                詳細規格
            </h3>
            <div class="flex flex-col gap-4">
                <label class="flex flex-col min-w-40 flex-1 group">
                    <p
                        class="text-slate-700 dark:text-white text-sm font-medium leading-normal pb-2 ml-1 group-focus-within:text-primary transition-colors">
                        序號</p>
                    <input id="input-serial"
                        class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-full text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-surface-border bg-white dark:bg-surface-dark focus:border-primary h-12 placeholder:text-gray-400 dark:placeholder:text-text-secondary px-5 text-base font-normal leading-normal transition-all shadow-sm font-mono tracking-wide"
                        placeholder="SN12345678" />
                </label>
                <div class="flex flex-col gap-2">
                    <p class="text-slate-700 dark:text-white text-sm font-medium leading-normal ml-1">庫存狀態</p>
                    <div id="status-toggle"
                        class="flex bg-gray-100 dark:bg-surface-dark p-1 rounded-full border border-gray-200 dark:border-surface-border">
                        <button onclick="setStatus('新品')" id="btn-status-new"
                            class="flex-1 rounded-full py-2 text-sm font-bold shadow-sm bg-primary text-black transition-all">新品</button>
                        <button onclick="setStatus('二手')" id="btn-status-used"
                            class="flex-1 rounded-full py-2 text-sm font-medium text-gray-500 dark:text-text-secondary transition-all">二手</button>
                    </div>
                    <input type="hidden" id="input-status" value="新品">
                </div>
            </div>
        </div>
        <div class="h-px bg-gray-200 dark:bg-surface-border mx-4 my-6"></div>
        <div class="px-4 pb-4">
            <h3
                class="text-slate-900 dark:text-white tracking-light text-xl font-bold leading-tight text-left pb-4 flex items-center gap-2">
                <span class="material-symbols-outlined text-primary">paid</span>
                購入成本
            </h3>
            <div class="flex flex-col gap-4">
                <div class="flex gap-4">
                    <label class="flex flex-col flex-1 group">
                        <p
                            class="text-slate-700 dark:text-white text-sm font-medium leading-normal pb-2 ml-1 group-focus-within:text-primary transition-colors">
                            購入日期</p>
                        <div class="relative">
                            <span
                                class="material-symbols-outlined absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 dark:text-text-secondary pointer-events-none">calendar_today</span>
                            <input id="input-date"
                                class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-full text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-surface-border bg-white dark:bg-surface-dark focus:border-primary h-12 placeholder:text-gray-400 dark:placeholder:text-text-secondary px-5 text-base font-normal leading-normal transition-all shadow-sm appearance-none"
                                type="date" value="2023-10-27" />
                        </div>
                    </label>
                </div>
                <div class="flex gap-4 items-end">
                    <label class="flex flex-col w-1/3 group">
                        <p
                            class="text-slate-700 dark:text-white text-sm font-medium leading-normal pb-2 ml-1 group-focus-within:text-primary transition-colors">
                            幣別</p>
                        <div class="relative">
                            <select id="input-currency"
                                class="form-select w-full rounded-full text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-surface-border bg-white dark:bg-surface-dark focus:border-primary h-12 px-5 text-base font-normal leading-normal transition-all shadow-sm appearance-none cursor-pointer">
                                <option>USD</option>
                                <option>JPY</option>
                                <option>TWD</option>
                                <option>EUR</option>
                            </select>
                            <span
                                class="material-symbols-outlined absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-text-secondary pointer-events-none text-sm">expand_more</span>
                        </div>
                    </label>
                    <label class="flex flex-col flex-1 group">
                        <p
                            class="text-slate-700 dark:text-white text-sm font-medium leading-normal pb-2 ml-1 group-focus-within:text-primary transition-colors">
                            購入金額</p>
                        <input id="input-amount"
                            class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-full text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-surface-border bg-white dark:bg-surface-dark focus:border-primary h-12 placeholder:text-gray-400 dark:placeholder:text-text-secondary px-5 text-base font-normal leading-normal transition-all shadow-sm"
                            placeholder="0.00" type="number" />
                    </label>
                </div>
                <label class="flex flex-col flex-1 group">
                    <div class="flex justify-between items-center pb-2 ml-1">
                        <p
                            class="text-slate-700 dark:text-white text-sm font-medium leading-normal group-focus-within:text-primary transition-colors">
                            購入匯率</p>
                    </div>
                    <div class="relative">
                        <input id="input-exchange-rate"
                            class="form-input flex w-full min-w-0 flex-1 resize-none overflow-hidden rounded-full text-slate-900 dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary/50 border border-gray-300 dark:border-surface-border bg-white dark:bg-surface-dark focus:border-primary h-12 placeholder:text-gray-400 dark:placeholder:text-text-secondary px-5 text-base font-normal leading-normal transition-all shadow-sm"
                            placeholder="例如: 32.5" step="0.01" type="number" />
                        <span
                            class="absolute right-5 top-1/2 -translate-y-1/2 text-gray-400 dark:text-text-secondary text-sm font-mono">TWD</span>
                    </div>
                </label>
            </div>
        </div>

        <script>
            function setStatus(status) {
                const btnNew = document.getElementById('btn-status-new');
                const btnUsed = document.getElementById('btn-status-used');
                const statusInput = document.getElementById('input-status');

                statusInput.value = status;

                if (status === '新品') {
                    btnNew.className = 'flex-1 rounded-full py-2 text-sm font-bold shadow-sm bg-primary text-black transition-all';
                    btnUsed.className = 'flex-1 rounded-full py-2 text-sm font-medium text-gray-500 dark:text-text-secondary transition-all';
                } else {
                    btnUsed.className = 'flex-1 rounded-full py-2 text-sm font-bold shadow-sm bg-primary text-black transition-all';
                    btnNew.className = 'flex-1 rounded-full py-2 text-sm font-medium text-gray-500 dark:text-text-secondary transition-all';
                }
            }

            function saveGuitar() {
                const brand = document.getElementById('input-brand').value;
                const model = document.getElementById('input-model').value;
                const year = document.getElementById('input-year').value;
                const origin = document.getElementById('input-origin').value;
                const serial = document.getElementById('input-serial').value;
                const status = document.getElementById('input-status').value;
                const amount = document.getElementById('input-amount').value;
                const currency = document.getElementById('input-currency').value;

                if (!brand || !model) {
                    alert('請填寫品牌與型號');
                    return;
                }

                const newGuitar = {
                    id: Date.now(),
                    brand, model, year, origin, serial, status, amount, currency,
                    date: document.getElementById('input-date').value,
                    inStock: true
                };

                let inventory = JSON.parse(localStorage.getItem('stitch_inventory')) || [];
                inventory.unshift(newGuitar);
                localStorage.setItem('stitch_inventory', JSON.stringify(inventory));

                window.location.href = '../單品庫存管理/code.html';
            }
        </script>

        <div class="fixed bottom-[90px] left-0 right-0 p-4 z-40 max-w-md mx-auto">
            <button onclick="saveGuitar()"
                class="w-full h-14 bg-primary hover:bg-[#45b825] active:scale-[0.98] transition-all rounded-full flex items-center justify-center shadow-[0_0_20px_rgba(83,210,45,0.3)]">
                <span class="text-black text-lg font-bold tracking-tight">新增</span>
            </button>
        </div>

        <!-- iOS Bottom Tab Bar -->
        <nav
            class="fixed bottom-0 left-0 right-0 glass-effect ios-tab-bar px-6 flex justify-between items-center z-50 max-w-md mx-auto">
            <a href="../匯率追蹤器/dashboard.html" class="flex flex-col items-center p-3 text-text-secondary">
                <span class="material-symbols-outlined">home</span>
                <span class="text-[10px] mt-1">首頁</span>
            </a>
            <a href="../匯率追蹤器/code.html" class="flex flex-col items-center p-3 text-text-secondary">
                <span class="material-symbols-outlined">payments</span>
                <span class="text-[10px] mt-1">匯率</span>
            </a>
            <a href="../單品庫存管理/code.html" class="flex flex-col items-center p-3 text-text-secondary">
                <span class="material-symbols-outlined">box</span>
                <span class="text-[10px] mt-1">庫存</span>
            </a>
            <a href="../落地成本計算器/code.html" class="flex flex-col items-center p-3 text-text-secondary">
                <span class="material-symbols-outlined">receipt_long</span>
                <span class="text-[10px] mt-1">成本</span>
            </a>
            <a href="../銷售記錄與利潤分析/code.html" class="flex flex-col items-center p-3 text-text-secondary">
                <span class="material-symbols-outlined">monitoring</span>
                <span class="text-[10px] mt-1">分析</span>
            </a>
        </nav>

    </div>

</body>

</html>